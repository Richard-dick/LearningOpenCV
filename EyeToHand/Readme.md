# EyeToHand

EyeToHand手眼标定是机器人视觉中的一个重要问题，它是指通过标定机器人末端执行器与相机之间的转换矩阵，
将相机坐标系下的目标点转换到机器人基坐标系下。
这个过程可以分为两个步骤：**手眼标定和手眼校准**。
其中，手眼标定是指通过已知的*机器人基坐标系*下的*末端执行器位姿*和相机坐标系下的目标点位姿，
求解出*末端执行器与相机之间的转换矩阵*；而手眼校准则是指通过已知的末端执行器位姿和相机位姿，
求解出*末端执行器与相机之间的转换矩阵*。

手眼标定过程可以分为以下几个步骤：
1. 采集手眼标定数据；
2. 提取手眼标定数据中的特征点；
3. 计算特征点在相机坐标系和机械臂基坐标系下的坐标；
4. 根据特征点在两个坐标系下的坐标计算出相机和机械臂基坐标系之间的转换矩阵。


## 如何采集手眼标定数据


cv2.calibrateHandEye方法是OpenCV中的一个函数，用于手眼标定。手眼标定是指通过摄像机和机械臂的运动，计算出摄像机和机械臂之间的相对位置和姿态关系。在使用cv2.calibrateHandEye方法时，需要提供机械臂抓手相对于机器人基坐标系的旋转矩阵与平移向量，以及标定板相对于双目相机的齐次矩阵。通过多次求解矩阵方程AX=XB，即可解出手眼矩阵。

下面是一个使用cv2.calibrateHandEye方法进行手眼标定的示例代码：

```python
import cv2
import numpy as np

# 机械臂抓手相对于机器人基坐标系的旋转矩阵与平移向量
R_gripper2base = np.array([[0.0, -1.0, 0.0], [1.0, 0.0, 0.0], [0.0, 0.0, 1.0]])
t_gripper2base = np.array([[-0.05], [0.1], [0.2]])

# 标定板相对于双目相机的齐次矩阵
R_target2cam = np.array([[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]])
t_target2cam = np.array([[-0.1], [0.2], [1]])

# 求解手眼矩阵
handeye = cv2.calibrateHandEye(R_gripper2base, t_gripper2base, R_target2cam, t_target2cam)
```


